<div class="main-layout">
  <!-- Mobile overlay -->
  <button
    type="button"
    class="drawer-overlay"
    [class.is-open]="mobileDrawerOpen()"
    (click)="closeMobileDrawer()"
    aria-label="Close navigation"
  ></button>

  <!-- Sidebar / Drawer -->
  <aside
    class="sidebar"
    [class.is-collapsed]="sidebarCollapsed()"
    [class.is-mobile-open]="mobileDrawerOpen()"
  >
    <!-- Desktop collapse trigger (floating circle) -->
    <button
      type="button"
      class="sidebar-trigger hide-on-mobile"
      (click)="toggleSidebarCollapsed()"
      aria-label="Toggle sidebar"
    >
      <span
        class="material-symbols-outlined"
        [class.is-collapsed]="sidebarCollapsed()"
      >
        chevron_left
      </span>
    </button>

    <div class="sidebar-inner">
      <div class="sidebar-top">
        <div class="logo">
          <div class="logo-badge">
            <span class="material-symbols-outlined">spa</span>
          </div>
          <h1 class="logo-text">
            WebNail<span class="logo-accent">Admin</span>
          </h1>
        </div>

        <!-- Mobile close -->
        <button
          type="button"
          class="icon-btn show-on-mobile"
          (click)="closeMobileDrawer()"
          aria-label="Close drawer"
        >
          <span class="material-symbols-outlined">close</span>
        </button>
      </div>

      <nav class="nav custom-scrollbar">
        <a
          *ngFor="let item of mainNav()"
          class="sidebar-item"
          [routerLink]="item.link"
          routerLinkActive="is-active"
          [routerLinkActiveOptions]="{ exact: item.exact ?? false }"
        >
          <span class="material-symbols-outlined">{{ item.icon }}</span>
          <span class="nav-label">{{ item.labelKey | translate }}</span>
        </a>

        <div class="nav-section">
          <p class="management-label">{{ 'admin.sections.management' | translate }}</p>
        </div>

        <a
          *ngFor="let item of managementNav()"
          class="sidebar-item"
          [routerLink]="item.link"
          routerLinkActive="is-active"
        >
          <span class="material-symbols-outlined">{{ item.icon }}</span>
          <span class="nav-label">{{ item.labelKey | translate }}</span>
        </a>
      </nav>

      <div class="sidebar-bottom">
        <div class="user-card">
          <img
            class="user-avatar"
            alt="Admin"
            src="./assets/images/nail.png"
          />
          <div class="user-info">
            <p class="user-name">Nail Store 1</p>
            <p class="user-role">Administrator</p>
          </div>
        </div>
      </div>
    </div>
  </aside>

  <!-- Main content -->
  <main class="content">
    <header class="topbar">
      <div class="topbar-left">
        <!-- Mobile open -->
        <button
          type="button"
          class="icon-btn show-on-mobile"
          (click)="toggleMobileDrawer()"
          aria-label="Open navigation"
        >
          <span class="material-symbols-outlined">menu</span>
        </button>

        <h2 class="page-title">{{ pageTitleKey() | translate }}</h2>
      </div>

      <div class="topbar-right">
        <button type="button" class="icon-btn" aria-label="Notifications">
          <span class="material-symbols-outlined">notifications</span>
        </button>
        <app-language-toggle></app-language-toggle>
        <app-theme-toggle></app-theme-toggle>
      </div>
    </header>

    <div class="content-body custom-scrollbar">
      <div class="content-inner">
        <router-outlet></router-outlet>
      </div>

      <footer class="layout-footer">
        <div class="footer-inner">
          <div class="footer-copy">{{ 'admin.footer.copyright' | translate }}</div>
          <div class="footer-links">
            <a class="footer-link" href="#">{{ 'admin.footer.helpCenter' | translate }}</a>
            <a class="footer-link" href="#">{{ 'admin.footer.terms' | translate }}</a>
            <a class="footer-link" href="#">{{ 'admin.footer.privacy' | translate }}</a>
          </div>
        </div>
      </footer>
    </div>
  </main>
</div>

